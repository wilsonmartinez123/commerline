<ion-header>

  <ion-navbar>
    <ion-title>Empresas</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <div *ngIf="rows?.length == 0">
    <h2>Aun no ha registrado empresa, por favor registra primero su empresa y luego sus productos, Gracias.</h2>
  </div>



  <div *ngIf="rows?.length != 0">

    <!--
         Embed the ngx-datatable component with following property bindings/values:
         1. sorttype - allow data to be sorted on multiple columns
         2. headerHeight - Set height of table header at 50 pixels
         3. footerHeight - Set height of table footer at 50 pixels
         4. rowHeight - Set height of table rows at 50 pixels
         5. rows - Derives the data for the table rows from the component class
                   property of rows
         6. columns - Derives the names for the table columns from the component
                      class property of columns
         7. columnMode - Use of standard, flex or force - Force value makes columns
                         equidistant and span the width of the parent container
         8. limit - the number of records to display before paginating the results
      -->
    <ngx-datatable [sortType]="'multi'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="200" [rows]="rows"
      [columns]="columns" [columnMode]="'force'" [sortType]="'multi'">

      <ngx-datatable-column name="Nombre" prop="nombre_emp">

        <ng-template let-row="row" ngx-datatable-cell-template>
          {{row.nombre_emp}}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Dirección">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{row.direccion_emp}}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Horario">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{row.horario_emp}}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Teléfono">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{row.telefono_emp}}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Logo">
        <ng-template let-row="row" ngx-datatable-cell-template>

          <div *ngIf="row.logo_emp.includes('http')">
            <img src="{{row.logo_emp}}">
          </div>


          <div *ngIf="row.logo_emp.includes('uploads/')">
            <img src="http://localhost/ionic-php-mysql/{{row.logo_emp}}">
          </div>


        </ng-template>
      </ngx-datatable-column>


      <ngx-datatable-column name="Acción">
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          <button ion-button small outline (click)="delete(row)">Eliminar</button>
        </ng-template>
      </ngx-datatable-column>


      <ngx-datatable-column name="Acción">
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          <button ion-button small outline (click)="edit(row)">Editar</button>
        </ng-template>
      </ngx-datatable-column>


    </ngx-datatable>
  </div>


</ion-content>